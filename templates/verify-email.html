<!doctype html>
<html lang="zh-Hant">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ä¿¡ç®±é©—è­‰ - æŸ’æŸ’ chi</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/é ­è²¼ - åœ“å½¢.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- å°èˆªæ¬„ -->
    <nav class="navbar">
      <div class="navbar-container">
        <a href="{{ url_for('index') }}" class="navbar-logo">
          <img src="{{ url_for('static', filename='images/é ­è²¼ - åœ“å½¢.png') }}" alt="æŸ’æŸ’ chi" class="navbar-logo-img">
          <span>æŸ’æŸ’ chi</span>
        </a>
        <button class="navbar-toggle" id="navbarToggle" aria-label="åˆ‡æ›é¸å–®">
          <span class="navbar-toggle-icon"></span>
          <span class="navbar-toggle-icon"></span>
          <span class="navbar-toggle-icon"></span>
        </button>
        <ul class="navbar-menu" id="navbarMenu">
          <li class="navbar-item"><a href="/about.html" class="navbar-link">è‡ªæˆ‘ä»‹ç´¹</a></li>
          <li class="navbar-item"><a href="/courses/course.html" class="navbar-link">ç¨‹å¼è¨­è¨ˆèª²ç¨‹</a></li>
          <li class="navbar-item"><a href="/keychain.html" class="navbar-link">é‘°åŒ™åœˆé è³¼</a></li>
          <li class="navbar-item"><a href="/subscriber-benefits.html" class="navbar-link">è¨‚é–±è€…å°ˆå±¬ç¦åˆ©</a></li>
          <li class="navbar-item"><a href="/events.html" class="navbar-link">æ´»å‹•å°ˆå€</a></li>
          <li class="navbar-item"><a href="/donate.html" class="navbar-link">åŠ ç­å°è¦å‰‡èˆ‡èªªæ˜</a></li>
          <li class="navbar-item"><a href="/url.html" class="navbar-link">å„å¹³å°é€£çµ</a></li>
          {% if session.user_id %}
          <!-- å·²ç™»å…¥ï¼šé¡¯ç¤ºè¨­å®šé¸å–®å’Œç™»å‡º -->
          <li class="navbar-item navbar-dropdown">
            <a href="#" class="navbar-link navbar-dropdown-toggle">è¨­å®š â–¾</a>
            <ul class="navbar-dropdown-menu">
              <li><a href="{{ url_for('profile') }}" class="navbar-dropdown-link">å€‹äººè³‡æ–™</a></li>
              <li><a href="{{ url_for('my_orders') }}" class="navbar-dropdown-link">è¨‚å–®ç®¡ç†</a></li>
            </ul>
          </li>
          <li class="navbar-item"><a href="{{ url_for('logout') }}" class="navbar-link">ç™»å‡º ({{ session.username }})</a></li>
          {% else %}
          <!-- æœªç™»å…¥ï¼šé¡¯ç¤ºç™»å…¥ -->
          <li class="navbar-item"><a href="{{ url_for('login') }}" class="navbar-link">ç™»å…¥</a></li>
          {% endif %}
        </ul>
      </div>
    </nav>

    <div class="cloud cloud--1" aria-hidden="true"></div>
    <div class="cloud cloud--2" aria-hidden="true"></div>
    <div class="cloud cloud--3" aria-hidden="true"></div>
    <div class="cloud cloud--4" aria-hidden="true"></div>

    <main class="page">
        <div class="form-container">
            <div class="form-card">
                <h1 class="form-title">ğŸ“§ ä¿¡ç®±é©—è­‰</h1>

                <p style="color: rgba(255,255,255,0.7); text-align: center; margin-bottom: 24px;">
                    é©—è­‰ç¢¼å·²ç™¼é€è‡³ <strong style="color: #7dd3fc;">{{ email }}</strong><br>
                    è«‹æª¢æŸ¥æ‚¨çš„ä¿¡ç®±ï¼ˆåŒ…æ‹¬åƒåœ¾éƒµä»¶è³‡æ–™å¤¾ï¼‰
                </p>

                {% if error %}
                    <div class="form-error">{{ error }}</div>
                {% endif %}

                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <div class="form-{{ 'success' if category == 'success' else 'error' }}">{{ message }}</div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}

                <form method="POST" action="">
                    <div class="form-group">
                        <label class="form-label" for="code">é©—è­‰ç¢¼ï¼ˆ6 ä½æ•¸å­—ï¼‰</label>
                        <input type="text" id="code" name="code" class="form-input" maxlength="6" pattern="\d{6}" placeholder="è«‹è¼¸å…¥ 6 ä½æ•¸é©—è­‰ç¢¼" style="text-align: center; font-size: 24px; letter-spacing: 8px;" required>
                    </div>

                    <button type="submit" class="form-button">âœ… é©—è­‰</button>
                </form>

                <div class="form-link" style="margin-top: 20px;">
                    <a href="{{ url_for('register') }}">â† è¿”å›è¨»å†Š</a>
                </div>
            </div>
        </div>
    </main>

    <script>
        // å°èˆªæ¬„åŠŸèƒ½
        const navbarToggle = document.getElementById('navbarToggle');
        const navbarMenu = document.getElementById('navbarMenu');
        if (navbarToggle && navbarMenu) {
            navbarToggle.addEventListener('click', function() {
                navbarToggle.classList.toggle('active');
                navbarMenu.classList.toggle('active');
            });
        }
    </script>
</body>
</html>

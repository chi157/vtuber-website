server {
    listen 80;
    server_name vtwebsite.chi157.com;
    
    root D:/chi157/vt-website-main/vt-website-main;
    index index.html index.php;
    
    # 靜態檔案
    location / {
        try_files $uri $uri/ =404;
    }
    
    # PHP 處理
    location ~ \.php$ {
        fastcgi_pass   127.0.0.1:9000;
        fastcgi_index  index.php;
        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
        include        fastcgi_params;
    }
    
    # 安全性：禁止訪問 backend 資料夾
    location ~ ^/backend/ {
        deny all;
    }
    
    # 安全性：禁止在 uploads 資料夾執行 PHP
    location ~* ^/uploads/.*\.(php|php3|php4|php5|phtml)$ {
        deny all;
    }
}
